<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab02 KKU Campus</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container header-inner">
            <div class="brand">
                <a class="logo" href="#" aria-label="KKU Campus Guide">
                    <svg viewBox="0 0 100 100" role="img" aria-hidden="false">
                        <title>KKU logo</title>
                        <circle cx="50" cy="50" r="46" fill="#1f8dd6" />
                        <g class="mark" fill="#fff" font-family="Montserrat, Arial, sans-serif" font-weight="700" font-size="28" text-anchor="middle">
                            <text x="50" y="50">KKU</text>
                        </g>
                    </svg>
                </a>
                <div>
                    <h1>KKU Campus Guide</h1>
                    <p class="subtitle">แนะนำสถานที่ภายในมหาวิทยาลัยขอนแก่น</p>
                </div>
            </div>
            <!-- CTA moved below header and placed above suggested places -->
            <p class="student-info">ชื่อ-สกุล: <strong>รุ่งธรรม ล้อมในเมือง</strong> | รหัสนักศึกษา: <strong>663380639-0</strong></p>
        </div>
    </header>
    <main class="container main-content">
        <div class="top-cta-row">
            <button id="showFormBtn" class="btn-primary top-cta" aria-expanded="false" aria-controls="placeForm">แนะนำสถานที่</button>
        </div>
        <section id="library" class="place">
            <h2>หอกาญจนาภิเษก</h2>
            <p class="lead">ใช้เป็นสถานที่จัดงานขนาดใหญ่ เช่น งานพระราชทานปริญญาบัตร, การประชุมสัมมนา, คอนเสิร์ต, งานแสดงสินค้า, นิทรรศการ, งานเลี้ยง และยังมีพื้นที่รอบข้างเป็น แหล่งรวมอาหารและบริการ อย่าง ตลาดมอดินแดง และคอมเพล็กซ์ให้นักศึกษาและคนทั่วไปใช้ชีวิตประจำวันได้ด้วย</p>
            <div class="gallery">
                <figure>
                    <a href="lab02_guide/image/khon-kaen-university.jpg">
                    <img src="lab02_guide/image/khon-kaen-university.jpg" alt="หอกาญจนาภิเษก" loading="lazy">
                </a>
                </figure>
                <figure>
                    <a href="lab02_guide/image/117552610.jpg">
                    <img src="lab02_guide/image/117552610.jpg" alt="หอกาญจนาภิเษก" loading="lazy">
                </a>
                </figure>
            </div>
        </section>

        <section id="sports" class="place">
            <h2>ศูนย์อาหารและบริการ 2 (โรงชาย)</h2>
            <p class="lead">เป็นพื้นที่อเนกประสงค์ที่ใช้สำหรับเป็น ศูนย์อาหาร, Co-working space (ที่นั่งทำงาน อ่านหนังสือ), มีคาเฟ่, มีร้านค้าต่างๆ เพื่อรองรับการใช้งานหลากหลาย เช่น รับประทานอาหาร อ่านหนังสือ เป็นต้น</p>
            <div class="gallery">
                <figure>
                    <a href="lab02_guide/image/2022-05-11_06-52-41_439654-1024x683.jpg">
                    <img src="lab02_guide/image/2022-05-11_06-52-41_439654-1024x683.jpg" alt="ศูนย์อาหารและบริการ 2 (โรงชาย)" loading="lazy">
                </a>
                </figure>
                <figure>
                    <a href="lab02_guide/image/2022-05-11_06-55-23_413565-1024x683.jpg">
                    <img src="lab02_guide/image/2022-05-11_06-55-23_413565-1024x683.jpg" alt="ศูนย์อาหารและบริการ 2 (โรงชาย)" loading="lazy">
                </a>
                </figure>
            </div>
        </section>

        <section id="food" class="place">
            <h2>เจ้าพ่อมอดินแดง</h2>
            <p class="lead">เป็นสิ่งศักดิ์สิทธิ์ที่ผู้คนเคารพนับถือ ทำหน้าที่เป็นที่พึ่งทางใจ ช่วยคุ้มครอง, ให้พรเรื่องความสำเร็จ, การสอบ, การงาน, โชคลาภ และ การเดินทางแคล้วคลาดปลอดภัย</p>
            <div class="gallery">
                <figure>
                    <a href="lab02_guide/image/73388389_1126681251015692_3940284704808239104_o.jpg">
                    <img src="lab02_guide/image/73388389_1126681251015692_3940284704808239104_o.jpg" alt="เจ้าพ่อมอดินแดง" loading="lazy">
                    </a>
                </figure>
                <figure>
                    <a href="lab02_guide/image/3K7A3913-scaled.jpg">
                    <img src="lab02_guide/image/3K7A3913-scaled.jpg" alt="เจ้าพ่อมอดินแดง" loading="lazy">
                    </a>
                </figure>
            </div>
        </section>

        <section id="garden" class="place">
            <h2>สวนเกษตร</h2>
            <p class="lead"> เป็นพื้นที่อเนกประสงค์สำหรับทำกิจกรรมหลากหลาย ทั้งปลูกพืชเศรษฐกิจหลักอย่างข้าว อ้อย มันสำปะหลัง พืชผักต่างๆ รวมถึงเป็นแหล่งพักผ่อนหย่อนใจ มีเส้นทางวิ่ง/เดินระยะทางประมาณ 2.5 กม. 1 รอบ</p>
            <div class="gallery">
                <figure>
                <a href="lab02_guide/image/IMG_0832-scaled.jpg">
                    <img src="docs/lab02_guide/image/IMG_0832-scaled.jpg" alt="สวนเกษตร" loading="lazy">
                </a>
                </figure>
                <figure>
                <a href="lab02_guide/image/499930253_1241228384463933_5576393451541799823_n.jpg">
                    <img src="lab02_guide/image/499930253_1241228384463933_5576393451541799823_n.jpg" alt="สวนเกษตร" loading="lazy">
                </a>
                </figure>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>KKU Campus Guide — แนะนำสถานที่ภายในมหาวิทยาลัยขอนแก่น</p>
            <p>จัดทำโดย นายรุ่งธรรม ล้อมในเมือง รหัส 663380639-0</p>
        </div>
    </footer>
    </footer>

    <!-- Modal overlay for suggestion form -->
    <div id="modalOverlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal" role="document">
            <header>
                <h3 id="modalTitle">แนะนำสถานที่ใหม่</h3>
                <button class="modal-close" id="modalCloseBtn" aria-label="ปิด">✕</button>
            </header>
            <div class="modal-body">
                <form id="modalForm"
      class="modal-form"
      action="https://api.web3forms.com/submit"
      method="POST">

    <!-- Web3Forms Access -->
    <form id="modalForm"
      class="modal-form"
      action="https://api.web3forms.com/submit"
      method="POST"
      novalidate>

    <input type="hidden" name="access_key" value="741d472c-0431-41dc-a7a1-bc4cd592dba6">
    <input type="hidden" name="subject" value="New KKU Place Suggestion">
    <input type="hidden" name="from_name" value="KKU Campus Guide">
    <input type="hidden" name="redirect" value="https://web3forms.com/success">

    <div class="form-row">
        <label for="m_placeName">ชื่อสถานที่</label>
        <input id="m_placeName" name="placeName" type="text" required placeholder="เช่น หอศิลป์ KKU">
    </div>
    <div class="form-row">
        <label for="m_placeDesc">รายละเอียด</label>
        <textarea id="m_placeDesc" name="placeDesc" rows="3" placeholder="คำอธิบายสั้น ๆ"></textarea>
    </div>
    <div class="form-row">
        <label for="m_placeImage">URL ของภาพ</label>
        <input id="m_placeImage" name="placeImage" type="url" placeholder="https://example.com/photo.jpg">
    </div>

    <div class="form-actions">
        <button type="submit" class="btn-primary">ส่ง</button>
        <button type="button" id="modalCancelBtn" class="btn-secondary">ยกเลิก</button>
    </div>
</form>
    <script>
        (function(){
            const showBtn = document.getElementById('showFormBtn');
            const overlay = document.getElementById('modalOverlay');
            const closeBtn = document.getElementById('modalCloseBtn');
            const cancelBtn = document.getElementById('modalCancelBtn');
            const form = document.getElementById('modalForm');
            const firstField = document.getElementById('m_placeName');

            function openModal(){
                overlay.classList.remove('hidden');
                overlay.focus();
                // small timeout to ensure focusable
                setTimeout(()=> firstField && firstField.focus(),50);
            }
            function closeModal(){
                overlay.classList.add('hidden');
                if(showBtn) showBtn.focus();
            }

            if(showBtn){
                showBtn.addEventListener('click', openModal);
            }
            if(closeBtn){
                closeBtn.addEventListener('click', closeModal);
            }
            if(cancelBtn){
                cancelBtn.addEventListener('click', closeModal);
            }

            // close on overlay click (but not when clicking modal content)
            overlay.addEventListener('click', function(e){
                if(e.target === overlay) closeModal();
            });

            // close on escape
            document.addEventListener('keydown', function(e){
                if(e.key === 'Escape' && !overlay.classList.contains('hidden')){
                    closeModal();
                }
            });

            if(form){
                const successPanel = document.getElementById('successPanel');
                form.addEventListener('submit', function(e){
                    e.preventDefault();
                    // show animated success panel
                    form.classList.add('hidden');
                    if(successPanel){
                        successPanel.classList.remove('hidden');
                        successPanel.setAttribute('aria-hidden','false');
                        // restart animation by reflow
                        const paths = successPanel.querySelectorAll('.path');
                        paths.forEach(p => {
                            p.style.strokeDashoffset = p.getTotalLength();
                            // force reflow
                            void p.getBoundingClientRect();
                            p.style.transition = '';
                        });
                        // allow CSS animations defined in stylesheet to run
                        setTimeout(()=> {
                            successPanel.classList.add('animate');
                        },20);
                        // auto-close modal after animation completes
                        setTimeout(()=>{
                            // reset panels
                            successPanel.classList.add('hidden');
                            successPanel.setAttribute('aria-hidden','true');
                            form.reset();
                            form.classList.remove('hidden');
                            closeModal();
                        }, 1600);
                    } else {
                        // fallback
                        alert('ขอบคุณสำหรับการแนะนำ!');
                        form.reset();
                        closeModal();
                    }
                });
            }
        })();
    </script>
</body>
</html>
